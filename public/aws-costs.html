<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Costos AWS - Host Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .costs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .cost-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .cost-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .cost-card h3 {
            color: #667eea;
            font-size: 1.5rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cost-card .icon {
            font-size: 2rem;
        }

        .cost-card .price {
            font-size: 2.5rem;
            font-weight: bold;
            color: #2d3748;
            margin: 15px 0;
        }

        .cost-card .unit {
            font-size: 1rem;
            color: #718096;
            font-weight: normal;
        }

        .cost-card .description {
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .cost-card .details {
            background: #f7fafc;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 0.9rem;
            color: #2d3748;
        }

        .cost-card .details strong {
            color: #667eea;
        }

        .summary {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-top: 30px;
        }

        .summary h2 {
            color: #667eea;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .summary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .summary-table th,
        .summary-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .summary-table th {
            background: #f7fafc;
            color: #2d3748;
            font-weight: 600;
        }

        .summary-table tr:hover {
            background: #f7fafc;
        }

        .total-row {
            font-weight: bold;
            font-size: 1.2rem;
            background: #667eea;
            color: white;
        }

        .total-row td {
            border-bottom: none;
        }

        .free-badge {
            display: inline-block;
            background: #48bb78;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 10px;
        }

        .note {
            background: #fff5e6;
            border-left: 4px solid #f6ad55;
            padding: 15px;
            margin-top: 20px;
            border-radius: 4px;
        }

        .note strong {
            color: #c05621;
        }

        .instance-selector {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            text-align: center;
        }

        .instance-selector label {
            display: block;
            font-size: 1.1rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 15px;
        }

        .instance-selector select {
            width: 100%;
            max-width: 400px;
            padding: 12px 20px;
            font-size: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            background: white;
            color: #2d3748;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }

        .instance-selector select:hover {
            border-color: #667eea;
        }

        .instance-selector select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        #ec2-instance-name {
            display: inline;
        }

        @media (max-width: 768px) {
            .costs-grid {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí∞ Costos AWS - Host Platform</h1>
            <p>Estimaci√≥n de costos mensuales para los servicios desplegados</p>
        </div>

        <div class="instance-selector">
            <label for="ec2-instance-type">üñ•Ô∏è Selecciona el tipo de instancia EC2:</label>
            <select id="ec2-instance-type" onchange="updateEC2Costs()">
                <option value="t3.micro">t3.micro - 1 vCPU, 1 GB RAM - $8.50/mes</option>
                <option value="t3.small">t3.small - 2 vCPU, 2 GB RAM - $15.00/mes</option>
                <option value="t3.medium">t3.medium - 2 vCPU, 4 GB RAM - $30.00/mes</option>
                <option value="t3.large">t3.large - 2 vCPU, 8 GB RAM - $60.00/mes</option>
                <option value="t3.xlarge">t3.xlarge - 4 vCPU, 16 GB RAM - $120.00/mes</option>
                <option value="t3.2xlarge">t3.2xlarge - 8 vCPU, 32 GB RAM - $240.00/mes</option>
            </select>
        </div>

        <div class="costs-grid">
            <!-- EC2 Instance -->
            <div class="cost-card">
                <h3>
                    <span class="icon">üñ•Ô∏è</span>
                    EC2 <span id="ec2-instance-name">t3.micro</span>
                </h3>
                <div class="price" id="ec2-price">
                    $8.50<span class="unit">/mes</span>
                </div>
                <div class="description">
                    Instancia de c√≥mputo para ejecutar contenedores Docker y aplicaciones.
                </div>
                <div class="details" id="ec2-specs">
                    <strong>Especificaciones:</strong><br>
                    ‚Ä¢ 1 vCPU<br>
                    ‚Ä¢ 1 GB RAM<br>
                    ‚Ä¢ Hasta 5 GB de almacenamiento EBS<br>
                    ‚Ä¢ <span class="free-badge">FREE TIER</span> 750 horas/mes (primer a√±o)
                </div>
            </div>

            <!-- Application Load Balancer -->
            <div class="cost-card">
                <h3>
                    <span class="icon">‚öñÔ∏è</span>
                    Application Load Balancer
                </h3>
                <div class="price">
                    $16.20<span class="unit">/mes</span>
                </div>
                <div class="description">
                    Distribuye el tr√°fico de aplicaciones entre m√∫ltiples instancias EC2.
                </div>
                <div class="details">
                    <strong>Desglose:</strong><br>
                    ‚Ä¢ $0.0225 por hora de ALB<br>
                    ‚Ä¢ $0.008 por GB procesado<br>
                    ‚Ä¢ Estimado: 720 horas/mes + 100 GB
                </div>
            </div>

            <!-- VPC -->
            <div class="cost-card">
                <h3>
                    <span class="icon">üåê</span>
                    VPC (Virtual Private Cloud)
                </h3>
                <div class="price">
                    $0.00<span class="unit">/mes</span>
                    <span class="free-badge">GRATIS</span>
                </div>
                <div class="description">
                    Red privada virtual para aislar recursos en la nube.
                </div>
                <div class="details">
                    <strong>Incluye:</strong><br>
                    ‚Ä¢ VPC<br>
                    ‚Ä¢ Subnets<br>
                    ‚Ä¢ Route Tables<br>
                    ‚Ä¢ Internet Gateway<br>
                    ‚Ä¢ Security Groups
                </div>
            </div>

            <!-- Data Transfer -->
            <div class="cost-card">
                <h3>
                    <span class="icon">üì°</span>
                    Transferencia de Datos
                </h3>
                <div class="price">
                    $9.00<span class="unit">/mes</span>
                </div>
                <div class="description">
                    Costo por transferencia de datos hacia internet.
                </div>
                <div class="details">
                    <strong>Estimaci√≥n:</strong><br>
                    ‚Ä¢ Primeros 100 GB: $0.00<br>
                    ‚Ä¢ Siguientes 100 GB: $0.09/GB<br>
                    ‚Ä¢ Estimado: 100 GB adicionales
                </div>
            </div>

            <!-- EBS Storage -->
            <div class="cost-card">
                <h3>
                    <span class="icon">üíæ</span>
                    Almacenamiento EBS
                </h3>
                <div class="price">
                    $0.50<span class="unit">/mes</span>
                </div>
                <div class="description">
                    Almacenamiento persistente para la instancia EC2.
                </div>
                <div class="details">
                    <strong>Estimaci√≥n:</strong><br>
                    ‚Ä¢ 5 GB gp3: $0.10/GB-mes<br>
                    ‚Ä¢ IOPS incluidas: 3,000<br>
                    ‚Ä¢ Throughput: 125 MB/s
                </div>
            </div>

            <!-- Target Groups -->
            <div class="cost-card">
                <h3>
                    <span class="icon">üéØ</span>
                    Target Groups
                </h3>
                <div class="price">
                    $0.00<span class="unit">/mes</span>
                    <span class="free-badge">GRATIS</span>
                </div>
                <div class="description">
                    Grupos de destino para el Load Balancer.
                </div>
                <div class="details">
                    <strong>Incluye:</strong><br>
                    ‚Ä¢ Health checks<br>
                    ‚Ä¢ Routing rules<br>
                    ‚Ä¢ Sin costo adicional
                </div>
            </div>
        </div>

        <div class="summary">
            <h2>üìä Resumen de Costos Mensuales</h2>
            <table class="summary-table">
                <thead>
                    <tr>
                        <th>Servicio</th>
                        <th>Costo Mensual</th>
                        <th>Notas</th>
                    </tr>
                </thead>
                <tbody>
                    <tr id="ec2-summary-row">
                        <td>EC2 <span id="ec2-summary-name">t3.micro</span></td>
                        <td id="ec2-summary-cost">$8.50</td>
                        <td id="ec2-summary-notes">Gratis 750 horas/mes (primer a√±o)</td>
                    </tr>
                    <tr>
                        <td>Application Load Balancer</td>
                        <td>$16.20</td>
                        <td>Basado en uso (horas + GB procesados)</td>
                    </tr>
                    <tr>
                        <td>VPC y Componentes</td>
                        <td>$0.00</td>
                        <td>Gratis</td>
                    </tr>
                    <tr>
                        <td>Transferencia de Datos</td>
                        <td>$9.00</td>
                        <td>Primeros 100 GB gratis</td>
                    </tr>
                    <tr>
                        <td>Almacenamiento EBS</td>
                        <td>$0.50</td>
                        <td>5 GB gp3</td>
                    </tr>
                    <tr>
                        <td>Target Groups</td>
                        <td>$0.00</td>
                        <td>Gratis</td>
                    </tr>
                    <tr class="total-row">
                        <td><strong>TOTAL ESTIMADO</strong></td>
                        <td><strong id="total-cost">$34.20/mes</strong></td>
                        <td><strong id="total-notes">Sin Free Tier: ~$42.70/mes</strong></td>
                    </tr>
                </tbody>
            </table>

            <div class="note">
                <strong>‚ö†Ô∏è Nota importante:</strong> Estos son costos estimados basados en precios de AWS en us-east-1 (enero 2025). 
                Los costos reales pueden variar seg√∫n:
                <ul style="margin-top: 10px; margin-left: 20px;">
                    <li>Uso real de recursos</li>
                    <li>Regi√≥n de AWS seleccionada</li>
                    <li>Transferencia de datos real</li>
                    <li>Elegibilidad para Free Tier (primer a√±o)</li>
                </ul>
                <p style="margin-top: 10px;">
                    <strong>üí° Consejo:</strong> Durante el primer a√±o con Free Tier, el costo puede reducirse a aproximadamente $25.70/mes 
                    si calificas para las 750 horas gratuitas de EC2.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Datos de instancias EC2 (costos mensuales aproximados en us-east-1)
        const ec2Instances = {
            't3.micro': {
                name: 't3.micro',
                cost: 8.50,
                vcpu: 1,
                ram: 1,
                freeTier: true,
                notes: 'Gratis 750 horas/mes (primer a√±o)'
            },
            't3.small': {
                name: 't3.small',
                cost: 15.00,
                vcpu: 2,
                ram: 2,
                freeTier: false,
                notes: 'No incluido en Free Tier'
            },
            't3.medium': {
                name: 't3.medium',
                cost: 30.00,
                vcpu: 2,
                ram: 4,
                freeTier: false,
                notes: 'No incluido en Free Tier'
            },
            't3.large': {
                name: 't3.large',
                cost: 60.00,
                vcpu: 2,
                ram: 8,
                freeTier: false,
                notes: 'No incluido en Free Tier'
            },
            't3.xlarge': {
                name: 't3.xlarge',
                cost: 120.00,
                vcpu: 4,
                ram: 16,
                freeTier: false,
                notes: 'No incluido en Free Tier'
            },
            't3.2xlarge': {
                name: 't3.2xlarge',
                cost: 240.00,
                vcpu: 8,
                ram: 32,
                freeTier: false,
                notes: 'No incluido en Free Tier'
            }
        };

        // Costos fijos de otros servicios
        const fixedCosts = {
            alb: 16.20,
            vpc: 0.00,
            dataTransfer: 9.00,
            ebs: 0.50,
            targetGroups: 0.00
        };

        function updateEC2Costs() {
            const select = document.getElementById('ec2-instance-type');
            const instanceType = select.value;
            const instance = ec2Instances[instanceType];

            // Actualizar nombre de la instancia
            document.getElementById('ec2-instance-name').textContent = instance.name;

            // Actualizar precio
            const priceElement = document.getElementById('ec2-price');
            priceElement.innerHTML = `$${instance.cost.toFixed(2)}<span class="unit">/mes</span>`;

            // Actualizar especificaciones
            const specsElement = document.getElementById('ec2-specs');
            let freeTierBadge = '';
            if (instance.freeTier) {
                freeTierBadge = '‚Ä¢ <span class="free-badge">FREE TIER</span> 750 horas/mes (primer a√±o)<br>';
            }
            specsElement.innerHTML = `
                <strong>Especificaciones:</strong><br>
                ‚Ä¢ ${instance.vcpu} vCPU<br>
                ‚Ä¢ ${instance.ram} GB RAM<br>
                ‚Ä¢ Hasta 5 GB de almacenamiento EBS<br>
                ${freeTierBadge}
            `;

            // Actualizar tabla de resumen
            document.getElementById('ec2-summary-name').textContent = instance.name;
            document.getElementById('ec2-summary-cost').textContent = `$${instance.cost.toFixed(2)}`;
            document.getElementById('ec2-summary-notes').textContent = instance.notes;

            // Calcular y actualizar total
            const total = instance.cost + fixedCosts.alb + fixedCosts.vpc + 
                         fixedCosts.dataTransfer + fixedCosts.ebs + fixedCosts.targetGroups;
            
            const totalWithoutFreeTier = instance.freeTier ? total + (8.50 * 0.5) : total;
            // Aproximaci√≥n: si tiene free tier, el costo real es menor (asumiendo ~50% de uso gratuito)
            
            document.getElementById('total-cost').textContent = `$${total.toFixed(2)}/mes`;
            
            if (instance.freeTier) {
                document.getElementById('total-notes').textContent = 
                    `Sin Free Tier: ~$${totalWithoutFreeTier.toFixed(2)}/mes`;
            } else {
                document.getElementById('total-notes').textContent = 
                    'No aplica Free Tier para esta instancia';
            }
        }

        // Inicializar al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            updateEC2Costs();
        });
    </script>
</body>
</html>
